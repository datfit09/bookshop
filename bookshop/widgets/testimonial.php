<?php/** * Elementor Posts Widget * * @package Woostify Pro */namespace Elementor;/** * Class Finazi_Testimonial_Widget elementor posts widget. */class Finazi_Testimonial_Widget extends \Elementor\Widget_Base {    /**     * Name     */    public function get_name() {        return 'finazi-testimonial';    }    /**     * Title     */    public function get_title() {        return esc_html__( 'Testimonial Finazi', 'finazi-pro' );    }    /**     * Icon     */    public function get_icon() {        return 'eicon-testimonial';    }    /**     * Scripts     */    public function get_script_depends() {        return array( 'finazi-elementor' );     }    protected function _register_controls() {        $this->start_controls_section(            'content_section',            [                'label' => __( 'Content', 'finazi-pro' ),                'tab' => \Elementor\Controls_Manager::TAB_CONTENT,            ]        );        $repeater = new \Elementor\Repeater();        // Text description.        $repeater->add_control(            'list_description',            [                'label' => __( 'Description', 'finazi-pro' ),                'type' => \Elementor\Controls_Manager::TEXTAREA,                'rows' => 10,                'default' => __( 'Default description', 'finazi-pro' ),                'placeholder' => __( 'Type your description here', 'finazi-pro' ),            ]        );        // Name Heading.        $repeater->add_control(            'list_title',            [                'label' => __( 'Name', 'finazi-pro' ),                'type' => \Elementor\Controls_Manager::TEXT,                'default' => __( 'Default title', 'finazi-pro' ),                'placeholder' => __( 'Type your title here', 'finazi-pro' ),            ]        );        // Position Heading.        $repeater->add_control(            'list_position',            [                'label' => __( 'Position', 'finazi-pro' ),                'type' => \Elementor\Controls_Manager::TEXT,                'default' => __( 'Googles CEO', 'finazi-pro' ),                'placeholder' => __( 'Type your position here', 'finazi-pro' ),            ]        );        // Image.        $repeater->add_control(            'list_content',            [                'label' => __( 'Choose Image', 'finazi-pro' ),                'type' => \Elementor\Controls_Manager::MEDIA,                'default' => [                    'url' => \Elementor\Utils::get_placeholder_image_src(),                ],            ]        );        $repeater->add_control(            'list_color',            [                'label' => __( 'Color', 'finazi-pro' ),                'type' => \Elementor\Controls_Manager::COLOR,                'selectors' => [                    '{{WRAPPER}} {{CURRENT_ITEM}}' => 'color: {{VALUE}}'                ],            ]        );        $this->add_control(            'list',            [                'label' => __( 'Repeater List', 'finazi-pro' ),                'type' => \Elementor\Controls_Manager::REPEATER,                'fields' => $repeater->get_controls(),                'default' => [                    [                        'list_description' => __( 'Description', 'finazi-pro' ),                        'list_content' => __( 'Item content. Click the edit button to change this text.', 'finazi-pro' ),                    ],                    [                        'list_title' => __( 'Name', 'finazi-pro' ),                        'list_content' => __( 'Item content. Click the edit button to change this text.', 'finazi-pro' ),                    ],                    [                        'list_position' => __( 'Position', 'finazi-pro' ),                        'list_content' => __( 'Item content. Click the edit button to change this text.', 'finazi-pro' ),                    ],                    [                        'list_title' => __( 'Title #4', 'finazi-pro' ),                        'list_content' => __( 'Item content. Click the edit button to change this text.', 'finazi-pro' ),                    ],                ],                'title_field' => '{{{ list_title }}}',            ]        );        $this->end_controls_section();    }    /**     * Controls     */    /**     * Render     */        protected function render() {        $settings = $this->get_settings();        $this->add_render_attribute( 'wrapper', 'class', 'elementor-testimonial-wrapper' );        if ( $settings['list'] ) {            echo '<dl class="author_item">';            foreach (  $settings['list'] as $item ) {                ?><div class="testimonial-carousel">                    <div class="content-author">                <?php                ?></div><?php                echo '<dt class="elementor-description elementor-repeater-description-item-' . $item['_id'] . '">' . $item['list_description'] . '</dt>';                echo '<img class="elementor-image elementor-repeater-image-position-item-' . $item['_id'] . '"src="' . $item['list_content']['url'] . '">';                echo '<div class="elementor-repeater-info"><dt class="elementor-name elementor-repeater-name-item-' . $item['_id'] . '">' . $item['list_title'] . '</dt>';                echo '<dt class="elementor-position elementor-repeater-position-item-' . $item['_id'] . '">' . $item['list_position'] . '</dt></div>';                                ?></div><?php            }            echo '</dl>';        }    }}Plugin::instance()->widgets_manager->register_widget_type( new Finazi_Testimonial_Widget() );